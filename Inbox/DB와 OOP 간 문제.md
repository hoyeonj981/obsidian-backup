created at : 2024-04-20 17:04

#### tags

#

--- 

 - DB와 OOP 간의 문제
	- Aggregation 관계로 존재할 경우, 테이블을 분리해서 관리해야 할까?
		- 그럴 수도 있고 아닐 수도 있다.
		- 객체와 테이블 간의 불일치 발생 (세부성 문제)
			-  DB에 User Defined Data Type을 만들어서 테이블에 저장할 수는 있지만 DBMS에서 지원할 수도 있고 아닐 수도 있다.
				- 도메인이 발전하면서 더 세분화된 클래스로 분리될 수 있다. 이걸 모두 테이블, 데이터 타입으로 1:1 대응하는 것은 어려움.
	- 상속 문제
		- 다형성을 사용할 때, 다형적 쿼리는 어떻게?
			- BillingDetails를 상속하는 CreditCard, BankAccount가 있다면 각자 가지고 있는 프로퍼티들이 다르다.
			- 서로 다른 프로퍼티를 가져오는 쿼리는 어떻게 만들 것인가?
	- 연관관계 문제
		- 도메인 모델에서 나타나는 연관관계와 테이블로 나타내는 연관관계가 서로 일치하지 않는 경우
			- User 테이블은 Address 정보를 함께 포함하고 있지만, BillingDetails는 테이블로 따로 분리되어 있다.
			- 객체는 User, Address, BillingDetails으로 나뉜 경우
		- many-to-many 표현
			- 객체지향 언어에서는 Reference로 연관관계를 나타낸다.
				- 객체끼리 컬렉션을 서로 가지면 된다.
			- DB에서는 외래키 제약조건 칼럼으로 연관관계를 나타낸다.
				- 서로 외래키를 가진다.
			- DB에서는 link table을 만들어서 나타낸다. (user-billingdetails table)
				- 이 경우에는 외래키가 필요없다.
	- 데이터 조회 문제
		- 객체지향에서 객체 탐색 방법과 DB에서 탐색 방법이 서로 다름
			- 객체에서는 iterator, stream 등을 통해서 탐색 가능
				- 몇 번이나 반복해서 호출해도 큰 문제가 없다.
			- 테이블 조회는 최소로 해야 함. 즉, 필요할 경우 한 번에 조회해야 함.
				- join을 사용해서 필요한 것을 묶어서 조회해야 한다.
				- 너무 많은 데이터를 조회할 경우 메모리를 낭비하게 된다.
				- DB에 과부하를 줄 수 있다.
				- User를 조회하기 위해서(1) + BillingDetails를 N번 조회할 수 있다.
		- 효율적인 탐색을 위해서 필요한 객체가 무엇인지 미리 알 필요가 있다.
### References
---
[]()
http://wiki.hash.kr/index.php/%EB%8C%80%EB%A6%AC%ED%82%A4